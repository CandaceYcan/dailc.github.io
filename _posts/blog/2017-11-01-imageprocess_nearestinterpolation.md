---
layout:     post
title:      【图像缩放】最邻近插值
category: blog
tags: 图像缩放 插值算法 算法
favour: 图像插值算法
description: 图像插值算法中最简单快速的最邻近插值法
---

## 前言

图像处理中有三种常用的插值算法：

- 最邻近插值

- 双线性插值

- 双立方（三次卷积）插值

本文介绍其中的`最邻近插值`

如果想先看效果和源码，可以拉到最底部

## 何时进行最邻近插值

这个算法的特点是

- 速度非常快速

- 误差很大

- 如果缩放系数较大，肯定会有马赛克效果

适合在一些需要实时预览缩放后效果，但是精度要求又不是很高的场景

## 数学理论

最简单的理论-`1对1映射`，如图

![](https://dailc.github.io/staticResource/blog/imageprocess/nearest/1pixels.jpg)

简单分析如下：

- 目标插值图中的某像素点`(distI, distJ)`在原图中的映射为`(i + v, j + u)`

- 最终这个点的取值就是`(i, j)`处的值

- `v`,`u`都小于1（就是进行一次取整）

### 插值公式


```js
F(i + v, j + u) = f(i, j)
```

直接映射+取整即可完成取值

## 代码实现

过于简单，不再赘述，核心就是

## 运行效果

可参考同系列中的`双立方插值`中的效果图

## 三种插值算法的简单比较

| 纬度 | 最邻近 | 双线性 | 双立方 |
| :------------- |:-------------|:-------------|:-------------|
| 速度 | 快 | 较慢 | 慢 |
| 质量 | 低 | 中 | 高 |
| 质量相比于`canvas` | 远低于 | 低于 | 高于 |
| 代码实现难度 | 极易 | 易 | 偏难 |
| 适用场景 | 实时计算 | 作为默认实现效果 | 高质量的效果 |

## 开源项目

这个项目里用`JS`实现了几种插值算法，包括（最邻近值，双线性，三次卷积-包括两种不同实现等）

[https://github.com/dailc/image-process](https://github.com/dailc/image-process)

